## 1. ä¸»é¢˜åˆ‡æ¢çš„æ ¸å¿ƒåŸç†

### ğŸ¯ ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React ç»„ä»¶å±‚                           â”‚
â”‚   className="bg-primary text-foreground" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tailwind CSS ç¼–è¯‘å±‚                    â”‚
â”‚   .bg-primary { background: var(--color-primary) } â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CSS Variables å±‚ï¼ˆåŠ¨æ€åˆ‡æ¢ï¼‰           â”‚
â”‚   [data-theme="modern-light"] {         â”‚
â”‚     --primary: oklch(0.552 0.203 ...);  â”‚
â”‚   }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”„ è¿è¡Œé€»è¾‘

```typescript
// 1. ç”¨æˆ·ç‚¹å‡»åˆ‡æ¢æŒ‰é’®
<button onClick={() => setTheme('fresh-dark')}>

// 2. React Hook æ›´æ–° DOM å±æ€§
document.documentElement.setAttribute('data-theme', 'fresh-dark')

// 3. CSS é€‰æ‹©å™¨åŒ¹é…ç”Ÿæ•ˆ
[data-theme="fresh-dark"] {
  --primary: oklch(...);  // ç»¿è‰²ç³»
}

// 4. Tailwind çš„ç±»åå¼•ç”¨ CSS Variables
.bg-primary {
  background: var(--color-primary);
  /* æœ€ç»ˆè¯»å–åˆ° var(--primary) */
}

// 5. æ‰€æœ‰ç»„ä»¶ç«‹å³åº”ç”¨æ–°é¢œè‰² âœ¨
```

### ğŸ’¡ å…³é”®ç‚¹

**ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ class åˆ‡æ¢ï¼Ÿ**

```html
<!-- âŒ ä¼ ç»Ÿæ–¹å¼ï¼šéœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ æ·»åŠ ä¸åŒç±»å -->
<div class="bg-violet-600 dark:bg-violet-500">
  <!-- âœ… CSS Variables æ–¹å¼ï¼šåªæ”¹ä¸€ä¸ªå±æ€§ -->
  <div class="bg-primary"></div>
</div>
```

**ä¼˜åŠ¿**ï¼š

- âœ… **åªæ”¹ä¸€ä¸ªåœ°æ–¹**ï¼ˆ`data-theme`ï¼‰ï¼Œæ‰€æœ‰ç»„ä»¶è‡ªåŠ¨æ›´æ–°
- âœ… **ç±»å‹å®‰å…¨**ï¼š`bg-primary` æ°¸è¿œæœ‰æ•ˆï¼Œä¸ç®¡ä¸»é¢˜æ˜¯ä»€ä¹ˆ
- âœ… **è¿è¡Œæ—¶åˆ‡æ¢**ï¼šæ— éœ€é‡æ–°ç¼–è¯‘ CSS
- âœ… **æ˜“äºæ‰©å±•**ï¼šæ·»åŠ æ–°ä¸»é¢˜ä¸éœ€è¦æ”¹ç»„ä»¶ä»£ç 

---

## 2. Globals.css è¯¦è§£

### 2.1 `@theme inline` æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ **Tailwind CSS V4 çš„æ–°ç‰¹æ€§**ï¼

**ä½œç”¨**ï¼šå°† CSS Variables è½¬æ¢ä¸º Tailwind çš„å·¥å…·ç±»

```css
@theme inline {
  --color-primary: var(--primary);
}
```

**ç¼–è¯‘åç”Ÿæˆ**ï¼š

```css
/* Tailwind ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™äº›ç±» */
.bg-primary {
  background: var(--color-primary);
}

.text-primary {
  color: var(--color-primary);
}

.border-primary {
  border-color: var(--color-primary);
}
```

**ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿ**

å› ä¸º Tailwind V4 ä¸å†ä½¿ç”¨ `tailwind.config.js`ï¼Œè€Œæ˜¯é€šè¿‡ CSS é…ç½®ï¼š

```css
/* âŒ Tailwind V3 æ–¹å¼ */
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: "hsl(var(--primary))";
      }
    }
  }
}

/* âœ… Tailwind V4 æ–¹å¼ */
@theme inline {
  --color-primary: var(--primary);
}
```

**ä¸ºä»€ä¹ˆå« `inline`ï¼Ÿ**

- `@theme inline`ï¼šå†…è”åœ¨ CSS æ–‡ä»¶ä¸­
- `@theme`ï¼šå¼•ç”¨å¤–éƒ¨æ–‡ä»¶ï¼ˆå¦‚ `@theme "theme.css"`ï¼‰

---

### 2.2 é»˜è®¤ä¸»é¢˜å¯ä»¥åˆ æ‰å—ï¼Ÿ

**å¯ä»¥ï¼Œä½†æœ‰æ¡ä»¶ï¼**

#### âœ… åœºæ™¯ 1ï¼šä½ æœ‰è‡ªå·±çš„é»˜è®¤ä¸»é¢˜

```css
/* åˆ æ‰ :root å’Œ .darkï¼Œåªä¿ç•™ data-theme */
[data-theme="modern-light"] {
  /* ä½œä¸ºé»˜è®¤ä¸»é¢˜ */
}
```

ç„¶ååœ¨ React åˆå§‹åŒ–æ—¶ç¡®ä¿è®¾ç½®ï¼š

```typescript
// hooks/use-theme.ts
const [theme, setThemeState] = useState<Theme>(() => {
  const stored = localStorage.getItem(STORAGE_KEY);
  const defaultTheme = "modern-light"; // è®¾ç½®é»˜è®¤å€¼
  const finalTheme = (stored as Theme) || defaultTheme;

  // ç«‹å³è®¾ç½®ï¼Œé¿å…é—ªçƒ
  document.documentElement.setAttribute("data-theme", finalTheme);

  return finalTheme;
});
```

#### âš ï¸ åœºæ™¯ 2ï¼šä¿ç•™ `:root` ä½œä¸ºå›é€€

å¦‚æœä½ æ‹…å¿ƒ JS åŠ è½½å‰ä¼šæœ‰æ ·å¼é—®é¢˜ï¼Œå¯ä»¥ä¿ç•™ï¼š

```css
/* ä½œä¸ºå›é€€æ–¹æ¡ˆï¼ŒJS åŠ è½½å‰ä½¿ç”¨ */
:root {
  --primary: oklch(0.552 0.203 293.756);
  /* ... */
}

/* JS åŠ è½½åè¦†ç›– */
[data-theme="modern-light"] {
  --primary: oklch(0.552 0.203 293.756);
  /* ... */
}
```

#### ğŸ¯ æˆ‘çš„å»ºè®®

**åˆ æ‰ `.dark`ï¼Œä¿ç•™ `:root`**ï¼š

```css
/* ä¿ç•™ä½œä¸ºé»˜è®¤å€¼/å›é€€æ–¹æ¡ˆ */
:root {
  /* å¯ä»¥è®¾ç½®æˆä½ æœ€å¸¸ç”¨çš„ä¸»é¢˜ */
  --primary: oklch(0.552 0.203 293.756); /* æç®€ç°ä»£ */
}

/* åˆ æ‰è¿™ä¸ªï¼Œå› ä¸ºä½ å·²ç»æœ‰ data-theme æ–¹æ¡ˆ */
/* .dark { ... } */

/* ä¿ç•™è¿™äº› */
[data-theme="modern-light"] {
  ...;
}
[data-theme="modern-dark"] {
  ...;
}
[data-theme="fresh-light"] {
  ...;
}
[data-theme="fresh-dark"] {
  ...;
}
```

---

### 2.3 `[data-theme="modern-dark"]` æ˜¯ä»€ä¹ˆè¯­æ³•ï¼Ÿ

è¿™æ˜¯ **CSS å±æ€§é€‰æ‹©å™¨**ï¼Œä¸æ˜¯ Tailwind ç‰¹æœ‰çš„ï¼Œæ˜¯æ ‡å‡† CSSï¼

#### ğŸ“š CSS å±æ€§é€‰æ‹©å™¨

```css
/* åŸºç¡€è¯­æ³• */
[attribute] {
} /* æœ‰è¿™ä¸ªå±æ€§ */
[attribute="value"] {
} /* å±æ€§å€¼å®Œå…¨åŒ¹é… */
[attribute^="value"] {
} /* å±æ€§å€¼ä»¥ value å¼€å¤´ */
[attribute$="value"] {
} /* å±æ€§å€¼ä»¥ value ç»“å°¾ */
[attribute*="value"] {
} /* å±æ€§å€¼åŒ…å« value */
```

#### ğŸ¯ åœ¨ä¸»é¢˜ç³»ç»Ÿä¸­çš„åº”ç”¨

```html
<!-- HTML -->
<html data-theme="modern-dark">
  <body>
    <div class="bg-primary">Hello</div>
  </body>
</html>
```

```css
/* CSS */
[data-theme="modern-dark"] {
  --primary: oklch(0.644 0.175 293.756);
}

/* å½“ html å…ƒç´ æœ‰ data-theme="modern-dark" æ—¶ */
/* æ‰€æœ‰å­å…ƒç´ éƒ½ä¼šç»§æ‰¿è¿™äº› CSS Variables */
```

#### ğŸ’¡ ä¸ºä»€ä¹ˆç”¨ `data-*` å±æ€§ï¼Ÿ

1. **è¯­ä¹‰åŒ–**ï¼š`data-theme` è¡¨ç¤ºè¿™æ˜¯æ•°æ®å±æ€§ï¼Œä¸æ˜¯æ ·å¼ç±»
2. **é¿å…å†²çª**ï¼šä¸ä¼šå’Œ Tailwind çš„ç±»åå†²çª
3. **JS å‹å¥½**ï¼š`element.dataset.theme` ç›´æ¥è®¿é—®
4. **HTML5 æ ‡å‡†**ï¼šæ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ

#### ğŸ” å…¶ä»–å¸¸è§ç”¨æ³•

```css
/* DaisyUI çš„å®ç° */
[data-theme="cupcake"] {
}

/* å¤šä¸ªå±æ€§ç»„åˆ */
[data-theme="dark"][data-contrast="high"] {
}

/* å’Œç±»åç»“åˆ */
.card[data-theme="modern"] {
}
```

---

## 3. å®Œæ•´çš„å·¥ä½œæµç¨‹ç¤ºä¾‹

è®©æˆ‘ç”»ä¸ªå›¾å¸®ä½ ç†è§£æ•´ä¸ªæµç¨‹ï¼š

```typescript
// ========================================
// æ­¥éª¤ 1: ç”¨æˆ·æ“ä½œ
// ========================================
<button onClick={() => setTheme('fresh-dark')}>
  åˆ‡æ¢åˆ°æ¸…æ–°æš—è‰²
</button>

// ========================================
// æ­¥éª¤ 2: React Hook æ›´æ–°
// ========================================
const setTheme = (newTheme: Theme) => {
  // 2.1 æ›´æ–°çŠ¶æ€
  setThemeState(newTheme);

  // 2.2 ä¿å­˜åˆ° localStorage
  localStorage.setItem(STORAGE_KEY, newTheme);

  // 2.3 æ›´æ–° DOM å±æ€§ï¼ˆå…³é”®ï¼ï¼‰
  document.documentElement.setAttribute('data-theme', newTheme);
  //      â†“ ç›¸å½“äºä¿®æ”¹ <html data-theme="fresh-dark">
};

// ========================================
// æ­¥éª¤ 3: CSS é€‰æ‹©å™¨åŒ¹é…
// ========================================
// globals.css ä¸­çš„è¿™æ®µä»£ç ç”Ÿæ•ˆï¼š
[data-theme="fresh-dark"] {
  --primary: oklch(0.697 0.145 166.088);  // ç»¿è‰²
  --background: oklch(0.145 0 0);         // æ·±è‰²èƒŒæ™¯
  --foreground: oklch(0.985 0 0);         // æµ…è‰²æ–‡å­—
}

// ========================================
// æ­¥éª¤ 4: Tailwind å¼•ç”¨ CSS Variables
// ========================================
// æ‰€æœ‰ä½¿ç”¨ bg-primary çš„å…ƒç´ ï¼š
<div className="bg-primary">
  {/* Tailwind ç¼–è¯‘å */}
  <div class="bg-primary">
    {/* æµè§ˆå™¨æ¸²æŸ“æ—¶ */}
    <div style="background: var(--color-primary)">
      {/* æœ€ç»ˆè®¡ç®—å€¼ */}
      <div style="background: oklch(0.697 0.145 166.088)">
```

---

## 4. å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šçº¯ Tailwind ç±»å

```tsx
// âŒ ç»´æŠ¤å™©æ¢¦
<div className={`
  ${theme === 'modern-light' ? 'bg-violet-600' : ''}
  ${theme === 'modern-dark' ? 'bg-violet-500' : ''}
  ${theme === 'fresh-light' ? 'bg-emerald-600' : ''}
  ${theme === 'fresh-dark' ? 'bg-emerald-500' : ''}
`}>
```

### æ–¹æ¡ˆ Bï¼šCSS-in-JS

```tsx
// âŒ æ€§èƒ½å·®ï¼Œè¿è¡Œæ—¶è®¡ç®—
const Button = styled.button`
  background: ${(props) => (props.theme === "modern" ? "#7c3aed" : "#10b981")};
`;
```

### æ–¹æ¡ˆ Cï¼šCSS Variablesï¼ˆç°åœ¨ç”¨çš„ï¼‰

```tsx
// âœ… ç®€å•ã€é«˜æ•ˆã€æ˜“ç»´æŠ¤
<div className="bg-primary">
```

---

## 5. æ·±å…¥ç†è§£ Shadcn çš„è®¾è®¡å“²å­¦

### ä¸ºä»€ä¹ˆ Shadcn é€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆï¼Ÿ

1. **æ— è¿è¡Œæ—¶å¼€é”€**ï¼šCSS Variables æ˜¯æµè§ˆå™¨åŸç”Ÿç‰¹æ€§
2. **ç±»å‹å®‰å…¨**ï¼š`bg-primary` æ°¸è¿œæœ‰æ•ˆ
3. **æ˜“äºå®šåˆ¶**ï¼šåªæ”¹ CSSï¼Œä¸æ”¹ç»„ä»¶ä»£ç 
4. **æ¸è¿›å¢å¼º**ï¼šæ²¡æœ‰ JS æ—¶ä¹Ÿæœ‰åŸºç¡€æ ·å¼

### Shadcn ç»„ä»¶çš„ç§˜å¯†

```tsx
// Shadcn Button æºç ï¼ˆç®€åŒ–ç‰ˆï¼‰
export const Button = React.forwardRef<HTMLButtonElement>(
  ({ className, variant = "default", ...props }, ref) => {
    return (
      <button
        className={cn(
          // åŸºç¡€æ ·å¼
          "inline-flex items-center justify-center rounded-md",
          // ä½¿ç”¨è¯­ä¹‰åŒ–çš„ CSS Variables
          variant === "default" && "bg-primary text-primary-foreground",
          variant === "secondary" && "bg-secondary text-secondary-foreground",
          className
        )}
        ref={ref}
        {...props}
      />
    );
  }
);
```

**å…³é”®ç‚¹**ï¼šç»„ä»¶åªå…³å¿ƒ **è¯­ä¹‰**ï¼ˆ`bg-primary`ï¼‰ï¼Œä¸å…³å¿ƒ **å…·ä½“é¢œè‰²**

---

## 6. å®æˆ˜æŠ€å·§

### æŠ€å·§ 1ï¼šè°ƒè¯• CSS Variables

```typescript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°
console.log(
  getComputedStyle(document.documentElement).getPropertyValue("--primary")
);
// è¾“å‡º: oklch(0.552 0.203 293.756)
```

### æŠ€å·§ 2ï¼šåŠ¨æ€ä¿®æ”¹é¢œè‰²

```typescript
// å®æ—¶ä¿®æ”¹ä¸»é¢˜é¢œè‰²ï¼ˆæ— éœ€åˆ·æ–°é¡µé¢ï¼‰
document.documentElement.style.setProperty("--primary", "oklch(0.8 0.2 200)");
```

### æŠ€å·§ 3ï¼šæ·»åŠ è¿‡æ¸¡åŠ¨ç”»

```css
@layer base {
  * {
    transition: background-color 0.3s, color 0.3s, border-color 0.3s;
  }
}
```

---

## æ€»ç»“

| é—®é¢˜                | ç­”æ¡ˆ                                                                                     |
| ------------------- | ---------------------------------------------------------------------------------------- |
| **ä¸»é¢˜åˆ‡æ¢åŸç†**    | React ä¿®æ”¹ `data-theme` å±æ€§ â†’ CSS é€‰æ‹©å™¨åŒ¹é… â†’ CSS Variables æ›´æ–° â†’ Tailwind ç±»å¼•ç”¨æ–°å€¼ |
| **`@theme inline`** | Tailwind V4 æ–°è¯­æ³•ï¼Œå°† CSS Variables è½¬æ¢ä¸ºå·¥å…·ç±»                                        |
| **é»˜è®¤ä¸»é¢˜**        | å¯ä»¥åˆ ï¼Œä½†å»ºè®®ä¿ç•™ `:root` ä½œä¸ºå›é€€                                                      |
| **`[data-theme]`**  | æ ‡å‡† CSS å±æ€§é€‰æ‹©å™¨ï¼Œä¸æ˜¯ Tailwind ç‰¹æœ‰çš„                                                |

è¿™å¥—æ–¹æ¡ˆçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**åˆ†ç¦»å˜é‡å®šä¹‰å’Œå˜é‡ä½¿ç”¨**ï¼Œé€šè¿‡ CSS Variables å®ç°è¿è¡Œæ—¶ä¸»é¢˜åˆ‡æ¢ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„ç®€æ´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

---

## 7. ä¸»é¢˜åˆ‡æ¢æ–¹æ¡ˆå¯¹æ¯”ä¸é€‰å‹æŒ‡å—

### 7.1 ä¸»æµæ–¹æ¡ˆæ¦‚è§ˆ

åœ¨ React ç”Ÿæ€ä¸­ï¼Œå®ç°ä¸»é¢˜åˆ‡æ¢ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆï¼š

#### æ–¹æ¡ˆ 1ï¼šnext-themes

**ç®€ä»‹**ï¼šä¸“ä¸º Next.js è®¾è®¡çš„ä¸»é¢˜åˆ‡æ¢åº“ï¼Œä¹Ÿå¯ç”¨äºçº¯ React åº”ç”¨ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š

- ğŸ¯ SSR/SSG æ”¯æŒï¼Œé¿å…é¦–å±é—ªçƒï¼ˆFOUCï¼‰
- ğŸŒ“ è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸»é¢˜ï¼ˆ`prefers-color-scheme`ï¼‰
- ğŸ“¦ Provider æ¨¡å¼ï¼Œé€šè¿‡ Context å…±äº«çŠ¶æ€
- ğŸ”§ æ”¯æŒå¤šç§å±æ€§æ¨¡å¼ï¼ˆ`class`ã€`data-theme`ã€`data-mode`ï¼‰
- ğŸ’¾ è‡ªåŠ¨ localStorage æŒä¹…åŒ–
- ğŸ“Š Bundle Size: ~3.5KB (gzipped)

**å…¸å‹ç”¨æ³•**ï¼š

```tsx
// App.tsx
import { ThemeProvider } from "next-themes";

function App() {
  return (
    <ThemeProvider attribute="data-theme" defaultTheme="light">
      <YourApp />
    </ThemeProvider>
  );
}

// ç»„ä»¶ä¸­ä½¿ç”¨
const { theme, setTheme } = useTheme();
setTheme("dark"); // åªæ”¯æŒå•ä¸€ç»´åº¦
```

**ä¼˜åŠ¿**ï¼š

- âœ… å¼€ç®±å³ç”¨ï¼Œé…ç½®ç®€å•
- âœ… SSR åœºæ™¯ä¸‹å®Œç¾é˜²é—ªçƒ
- âœ… ç³»ç»Ÿä¸»é¢˜è·Ÿéš
- âœ… ç¤¾åŒºç»´æŠ¤è‰¯å¥½

**åŠ£åŠ¿**ï¼š

- âŒ ä¸é€‚åˆçº¯å®¢æˆ·ç«¯åº”ç”¨ï¼ˆåŠŸèƒ½æµªè´¹ï¼‰
- âŒ é»˜è®¤åªæ”¯æŒå•ä¸€ä¸»é¢˜ç»´åº¦ï¼ˆéœ€è¦è‡ªå®šä¹‰é€»è¾‘å®ç°å¤šç»´åº¦ï¼‰
- âŒ å¢åŠ  bundle size
- âŒ Provider å±‚çº§å¢åŠ å¤æ‚åº¦

---

#### æ–¹æ¡ˆ 2ï¼šè‡ªå®šä¹‰å®ç°ï¼ˆæœ¬é¡¹ç›®é‡‡ç”¨ï¼‰

**ç®€ä»‹**ï¼šæ‰‹åŠ¨å®ç°çš„è½»é‡çº§ä¸»é¢˜ç®¡ç† Hookã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š

- ğŸ¯ å®Œå…¨è‡ªä¸»æ§åˆ¶ï¼Œçµæ´»åº¦æœ€é«˜
- ğŸ“¦ é›¶ä¾èµ–ï¼Œä¸å¢åŠ  bundle size
- ğŸ”§ å¯ä»¥å®ç°ä»»æ„å¤æ‚çš„ä¸»é¢˜é€»è¾‘ï¼ˆå¦‚å¤šç»´åº¦åˆ‡æ¢ï¼‰
- ğŸ’¾ è‡ªå®šä¹‰æŒä¹…åŒ–ç­–ç•¥
- ğŸ“Š Bundle Size: 0KBï¼ˆ75 è¡Œä»£ç ï¼‰

**å…¸å‹å®ç°**ï¼š

```tsx
// hooks/use-theme.ts
export function useTheme() {
  const [theme, setThemeState] = useState<Theme>(() => {
    const stored = localStorage.getItem(STORAGE_KEY);
    return (stored as Theme) || "modern-light";
  });

  const [style, mode] = theme.split("-") as [ThemeStyle, ThemeMode];

  const setTheme = (newTheme: Theme) => {
    setThemeState(newTheme);
    localStorage.setItem(STORAGE_KEY, newTheme);
    document.documentElement.setAttribute("data-theme", newTheme);
  };

  // æ”¯æŒç‹¬ç«‹åˆ‡æ¢ mode å’Œ style
  const setMode = (newMode: ThemeMode) => {
    setTheme(`${style}-${newMode}` as Theme);
  };

  const setStyle = (newStyle: ThemeStyle) => {
    setTheme(`${newStyle}-${mode}` as Theme);
  };

  return { theme, mode, style, setTheme, setMode, setStyle, toggleMode };
}
```

**ä¼˜åŠ¿**ï¼š

- âœ… å®Œå…¨å®šåˆ¶åŒ–ï¼Œæ— ä»»ä½•é™åˆ¶
- âœ… é›¶ä¾èµ–ï¼Œè½»é‡çº§
- âœ… ä»£ç ç®€å•æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- âœ… æ”¯æŒå¤šç»´åº¦ä¸»é¢˜åˆ‡æ¢

**åŠ£åŠ¿**ï¼š

- âŒ éœ€è¦è‡ªå·±å®ç°
- âŒ SSR åœºæ™¯éœ€è¦é¢å¤–å¤„ç†é˜²é—ªçƒ
- âŒ ç³»ç»Ÿä¸»é¢˜æ£€æµ‹éœ€è¦è‡ªå·±å®ç°

---

#### æ–¹æ¡ˆ 3ï¼šå…¶ä»–ç¬¬ä¸‰æ–¹åº“

**use-dark-mode**ã€**usehooks-ts** ç­‰æä¾›çš„ Hookï¼š

**ç‰¹ç‚¹**ï¼š

- åŠŸèƒ½ç®€å•ï¼Œåªæ”¯æŒ light/dark äºŒé€‰ä¸€
- é€‚åˆå¿«é€ŸåŸå‹å¼€å‘
- ä¸é€‚åˆå¤æ‚ä¸»é¢˜ç³»ç»Ÿ

**å¯¹æ¯”**ï¼š

```tsx
// use-dark-modeï¼ˆç¬¬ä¸‰æ–¹ï¼‰
const [darkMode, setDarkMode] = useDarkMode(false);
// åªèƒ½åˆ‡æ¢ true/false

// æœ¬é¡¹ç›®ï¼ˆè‡ªå®šä¹‰ï¼‰
const { mode, style, setMode, setStyle } = useTheme();
// å¯ä»¥ç‹¬ç«‹åˆ‡æ¢ mode å’Œ style
```

---

### 7.2 è¯¦ç»†å¯¹æ¯”çŸ©é˜µ

| ç‰¹æ€§                    | next-themes     | è‡ªå®šä¹‰å®ç°     | use-dark-mode  |
| ----------------------- | --------------- | -------------- | -------------- |
| **é€‚ç”¨æ¡†æ¶**            | Next.js / React | ä»»æ„ React     | ä»»æ„ React     |
| **SSR é˜²é—ªçƒ**          | âœ… å†…ç½®         | âš ï¸ éœ€è‡ªå·±å®ç°  | âŒ ä¸æ”¯æŒ      |
| **ç³»ç»Ÿä¸»é¢˜æ£€æµ‹**        | âœ… å†…ç½®         | âš ï¸ éœ€è‡ªå·±å®ç°  | âœ… éƒ¨åˆ†æ”¯æŒ    |
| **å¤šç»´åº¦ä¸»é¢˜**          | âŒ éœ€è‡ªå®šä¹‰     | âœ… å®Œå…¨æ”¯æŒ    | âŒ ä¸æ”¯æŒ      |
| **localStorage æŒä¹…åŒ–** | âœ…              | âœ…             | âœ…             |
| **TypeScript æ”¯æŒ**     | âœ…              | âœ…             | âœ…             |
| **Bundle Size**         | ~3.5KB          | 0KB            | ~2KB           |
| **å­¦ä¹ æˆæœ¬**            | ä½              | ä¸­             | ä½             |
| **å®šåˆ¶çµæ´»åº¦**          | ä¸­              | é«˜             | ä½             |
| **ä»£ç å¤æ‚åº¦**          | ä½ï¼ˆå¼•å…¥å³ç”¨ï¼‰  | ä¸­ï¼ˆ75 è¡Œï¼‰    | ä½ï¼ˆå¼•å…¥å³ç”¨ï¼‰ |
| **ç»´æŠ¤æˆæœ¬**            | ä½ï¼ˆç¤¾åŒºç»´æŠ¤ï¼‰  | ä¸­ï¼ˆè‡ªå·±ç»´æŠ¤ï¼‰ | ä½ï¼ˆç¤¾åŒºç»´æŠ¤ï¼‰ |

---

### 7.3 é€‚ç”¨åœºæ™¯åˆ†æ

#### åœºæ™¯ 1ï¼šNext.js + SSR/SSG é¡¹ç›®

**æ¨èæ–¹æ¡ˆ**ï¼š**next-themes** â­â­â­â­â­

**ç†ç”±**ï¼š

- SSR é˜²é—ªçƒæ˜¯åˆšéœ€
- next-themes ä¸“ä¸ºæ­¤è®¾è®¡
- å¼€ç®±å³ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®

**ç¤ºä¾‹é¡¹ç›®**ï¼š

- ä¼ä¸šå®˜ç½‘ï¼ˆéœ€è¦ SEOï¼‰
- åšå®¢ç³»ç»Ÿï¼ˆé™æ€ç”Ÿæˆï¼‰
- è¥é”€é¡µé¢ï¼ˆé¦–å±æ€§èƒ½è¦æ±‚é«˜ï¼‰

---

#### åœºæ™¯ 2ï¼šçº¯å®¢æˆ·ç«¯ React åº”ç”¨ï¼ˆç®€å• light/darkï¼‰

**æ¨èæ–¹æ¡ˆ**ï¼š**next-themes** â­â­â­ æˆ– **è‡ªå®šä¹‰å®ç°** â­â­â­â­

**ç†ç”±**ï¼š

- å¦‚æœè¿½æ±‚å¿«é€Ÿå¼€å‘ï¼šç”¨ next-themesï¼ˆè™½ç„¶æœ‰ç‚¹å¤§æå°ç”¨ï¼‰
- å¦‚æœè¿½æ±‚è½»é‡åŒ–ï¼šè‡ªå®šä¹‰å®ç°ï¼ˆå®ç°æˆæœ¬ä¸é«˜ï¼‰

**ç¤ºä¾‹é¡¹ç›®**ï¼š

- ç®¡ç†åå°
- å·¥å…·ç±»åº”ç”¨
- ä¸ªäººé¡¹ç›®

**ä»£ç é‡å¯¹æ¯”**ï¼š

```tsx
// ä½¿ç”¨ next-themes: ~10 è¡Œé…ç½®ä»£ç 
<ThemeProvider>
  <App />
</ThemeProvider>

// è‡ªå®šä¹‰å®ç°: ~75 è¡Œæ ¸å¿ƒä»£ç 
// ä½† 0 ä¾èµ–ï¼Œå®Œå…¨å¯æ§
```

---

#### åœºæ™¯ 3ï¼šå¤æ‚å¤šç»´åº¦ä¸»é¢˜ç³»ç»Ÿ

**æ¨èæ–¹æ¡ˆ**ï¼š**è‡ªå®šä¹‰å®ç°** â­â­â­â­â­

**ç†ç”±**ï¼š

- next-themes ä¸ç›´æ¥æ”¯æŒå¤šç»´åº¦
- ç¬¬ä¸‰æ–¹åº“æ— æ³•æ»¡è¶³å¤æ‚éœ€æ±‚
- è‡ªå®šä¹‰å®ç°çµæ´»åº¦æœ€é«˜

**ç¤ºä¾‹éœ€æ±‚**ï¼š

- **åŒç»´åº¦åˆ‡æ¢**ï¼šé£æ ¼ï¼ˆmodern/freshï¼‰Ã— æ¨¡å¼ï¼ˆlight/darkï¼‰â†’ 4 ç§ç»„åˆ
- **ä¸‰ç»´åº¦åˆ‡æ¢**ï¼šé£æ ¼ Ã— æ¨¡å¼ Ã— è¯­è¨€ â†’ 8+ ç§ç»„åˆ
- **åŠ¨æ€ä¸»é¢˜**ï¼šç”¨æˆ·è‡ªå®šä¹‰é¢œè‰²æ–¹æ¡ˆ

**æœ¬é¡¹ç›®å°±æ˜¯æ­¤åœºæ™¯**ï¼š

```typescript
// æ”¯æŒç‹¬ç«‹åˆ‡æ¢ä¸¤ä¸ªç»´åº¦
setMode("dark"); // åªæ”¹å˜æ¨¡å¼ï¼Œä¿æŒé£æ ¼
setStyle("fresh"); // åªæ”¹å˜é£æ ¼ï¼Œä¿æŒæ¨¡å¼

// next-themes æ— æ³•ç›´æ¥å®ç°æ­¤åŠŸèƒ½
```

---

#### åœºæ™¯ 4ï¼šå¿«é€ŸåŸå‹/MVP å¼€å‘

**æ¨èæ–¹æ¡ˆ**ï¼š**next-themes** â­â­â­â­â­

**ç†ç”±**ï¼š

- å¿«é€Ÿå¯åŠ¨ï¼Œæ— éœ€ç¼–å†™ä»£ç 
- åŠŸèƒ½å®Œæ•´ï¼Œæ»¡è¶³ 90% éœ€æ±‚
- åæœŸå¯ä»¥è¿ç§»åˆ°è‡ªå®šä¹‰å®ç°

---

### 7.4 æœ¬é¡¹ç›®ï¼ˆVocabMasterï¼‰çš„é€‰å‹å†³ç­–

#### é¡¹ç›®èƒŒæ™¯

**é¡¹ç›®ç‰¹ç‚¹**ï¼š

- ğŸ“± çº¯å®¢æˆ·ç«¯åº”ç”¨ï¼ˆVite + React Routerï¼‰
- ğŸ¨ åŒç»´åº¦ä¸»é¢˜ç³»ç»Ÿï¼š2 é£æ ¼ Ã— 2 æ¨¡å¼ = 4 ä¸»é¢˜
- ğŸ“¦ ä¸­å°å‹é¡¹ç›®ï¼ˆ< 10 é¡µé¢ï¼‰
- âš¡ è¿½æ±‚è½»é‡åŒ–å’Œæ€§èƒ½

**ä¸»é¢˜éœ€æ±‚**ï¼š

```typescript
// å››ç§ä¸»é¢˜ç»„åˆ
type Theme =
  | "modern-light"  // æç®€ç°ä»£ - äº®è‰²
  | "modern-dark"   // æç®€ç°ä»£ - æš—è‰²
  | "fresh-light"   // æ¸…æ–°æ´»åŠ› - äº®è‰²
  | "fresh-dark"    // æ¸…æ–°æ´»åŠ› - æš—è‰²

// éœ€è¦æ”¯æŒ
- ç‹¬ç«‹åˆ‡æ¢é£æ ¼ï¼ˆmodern â†” freshï¼‰
- ç‹¬ç«‹åˆ‡æ¢æ¨¡å¼ï¼ˆlight â†” darkï¼‰
- ä¸€é”®åˆ‡æ¢å®Œæ•´ä¸»é¢˜
```

---

#### æ–¹æ¡ˆè¯„ä¼°

**æ–¹æ¡ˆ Aï¼šä½¿ç”¨ next-themes**

ä¼˜åŠ¿ï¼š

- âœ… å¿«é€Ÿå®ç°
- âœ… ç¤¾åŒºæ”¯æŒ

åŠ£åŠ¿ï¼š

- âŒ SSR åŠŸèƒ½å®Œå…¨ç”¨ä¸ä¸Šï¼ˆçº¯å®¢æˆ·ç«¯ï¼‰
- âŒ ä¸æ”¯æŒåŒç»´åº¦åˆ‡æ¢ï¼ˆéœ€è¦é¢å¤–é€»è¾‘ï¼‰
- âŒ +3.5KB bundle size æ²¡æœ‰å¯¹åº”ä»·å€¼
- âŒ Provider å¢åŠ æ¶æ„å¤æ‚åº¦

**å®ç°å¤æ‚åº¦**ï¼šä¸­ï¼ˆéœ€è¦è‡ªå®šä¹‰åŒç»´åº¦é€»è¾‘ï¼‰

---

**æ–¹æ¡ˆ Bï¼šè‡ªå®šä¹‰å®ç°** âœ… **æœ€ç»ˆé€‰æ‹©**

ä¼˜åŠ¿ï¼š

- âœ… å®Œç¾æ”¯æŒåŒç»´åº¦åˆ‡æ¢
- âœ… é›¶ä¾èµ–ï¼Œè½»é‡çº§
- âœ… ä»£ç æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- âœ… å®Œå…¨å¯æ§ï¼Œæ— é»‘ç›’

åŠ£åŠ¿ï¼š

- âš ï¸ éœ€è¦è‡ªå·±å®ç°ï¼ˆä½†åªéœ€ 75 è¡Œä»£ç ï¼‰

**å®ç°å¤æ‚åº¦**ï¼šä½ï¼ˆé€»è¾‘ç®€å•ç›´è§‚ï¼‰

---

#### æœ€ç»ˆå†³ç­–

é€‰æ‹© **è‡ªå®šä¹‰å®ç°**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. **éœ€æ±‚åŒ¹é…åº¦ 100%**

   - åŒç»´åº¦åˆ‡æ¢æ˜¯æ ¸å¿ƒéœ€æ±‚
   - next-themes æ— æ³•å¼€ç®±å³ç”¨

2. **æ€§èƒ½ä¼˜å…ˆ**

   - çº¯å®¢æˆ·ç«¯åº”ç”¨ä¸éœ€è¦ SSR åŠŸèƒ½
   - é¿å… 3.5KB æ— ç”¨ä»£ç 

3. **ä»£ç ç®€æ´æ€§**

   - 75 è¡Œä»£ç  vs å¼•å…¥ä¾èµ– + è‡ªå®šä¹‰é€»è¾‘
   - è‡ªå®šä¹‰å®ç°åè€Œæ›´ç®€æ´

4. **ç»´æŠ¤æˆæœ¬ä½**
   - é€»è¾‘ç®€å•ï¼Œæ˜“äºç†è§£
   - æ— ç¬¬ä¸‰æ–¹åº“ç‰ˆæœ¬ä¾èµ–é—®é¢˜

---

#### å®ç°æ•ˆæœ

**ä»£ç é‡ç»Ÿè®¡**ï¼š

```
hooks/use-theme.ts:        75 è¡Œï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
index.css:                235 è¡Œï¼ˆCSS å˜é‡å®šä¹‰ï¼‰
ç»„ä»¶é›†æˆ:                  ~20 è¡Œ/ç»„ä»¶ï¼ˆä½¿ç”¨ hookï¼‰

æ€»è®¡: çº¦ 300 è¡Œä»£ç å®ç°å®Œæ•´ä¸»é¢˜ç³»ç»Ÿ
```

**åŠŸèƒ½å¯¹æ¯”**ï¼š
| åŠŸèƒ½ | æœ¬é¡¹ç›®å®ç° | next-themes |
|------|-----------|-------------|
| åŸºç¡€åˆ‡æ¢ | âœ… | âœ… |
| æŒä¹…åŒ– | âœ… | âœ… |
| åŒç»´åº¦ | âœ… | âŒï¼ˆéœ€é¢å¤–å®ç°ï¼‰|
| SSR é˜²é—ªçƒ | âŒï¼ˆä¸éœ€è¦ï¼‰| âœ… |
| ç³»ç»Ÿä¸»é¢˜ | âŒï¼ˆæœªæ¥å¯åŠ ï¼‰| âœ… |

---

### 7.5 å®æˆ˜å»ºè®®ä¸æœ€ä½³å®è·µ

#### å»ºè®® 1ï¼šæ ¹æ®é¡¹ç›®è§„æ¨¡é€‰æ‹©æ–¹æ¡ˆ

**å°å‹é¡¹ç›®ï¼ˆ< 5 é¡µé¢ï¼‰**ï¼š

- å¿«é€ŸåŸå‹ï¼šnext-themes
- è¿½æ±‚è½»é‡ï¼šè‡ªå®šä¹‰å®ç°

**ä¸­å‹é¡¹ç›®ï¼ˆ5-20 é¡µé¢ï¼‰**ï¼š

- Next.jsï¼šnext-themes
- çº¯å®¢æˆ·ç«¯ï¼šè‡ªå®šä¹‰å®ç°

**å¤§å‹é¡¹ç›®ï¼ˆ> 20 é¡µé¢ï¼‰**ï¼š

- æ ¹æ®å›¢é˜ŸæŠ€æœ¯æ ˆå’Œç»´æŠ¤èƒ½åŠ›å†³ç­–
- è€ƒè™‘å¼•å…¥è®¾è®¡ç³»ç»Ÿï¼ˆå¦‚ Chakra UIã€Mantineï¼‰

---

#### å»ºè®® 2ï¼šä¼˜å…ˆè€ƒè™‘å®é™…éœ€æ±‚

**åªéœ€è¦ light/darkï¼Ÿ**

- â†’ ç”¨ next-themesï¼ˆé™¤éæåº¦è¿½æ±‚æ€§èƒ½ï¼‰

**éœ€è¦å¤šé£æ ¼/å¤šç»´åº¦ï¼Ÿ**

- â†’ è‡ªå®šä¹‰å®ç°ï¼ˆç¬¬ä¸‰æ–¹åº“æ— æ³•æ»¡è¶³ï¼‰

**éœ€è¦ SSR/SEOï¼Ÿ**

- â†’ å¿…é¡»ç”¨ next-themes æˆ–ç±»ä¼¼æ–¹æ¡ˆ

---

#### å»ºè®® 3ï¼šè¿ç§»ç­–ç•¥

**ä» next-themes è¿ç§»åˆ°è‡ªå®šä¹‰å®ç°**ï¼š

1. ä¿æŒ `data-theme` å±æ€§åç§°ä¸å˜
2. å¤åˆ¶ next-themes çš„ localStorage key
3. é€æ­¥æ›¿æ¢ç»„ä»¶ä¸­çš„ `useTheme` å¼•ç”¨
4. æµ‹è¯•æ‰€æœ‰é¡µé¢çš„ä¸»é¢˜åˆ‡æ¢
5. å¸è½½ next-themes ä¾èµ–

**ä»è‡ªå®šä¹‰è¿ç§»åˆ° next-themes**ï¼š

1. å®‰è£… next-themes
2. æ·»åŠ  `ThemeProvider` åŒ…è£¹åº”ç”¨
3. å¦‚æœæœ‰å¤šç»´åº¦éœ€æ±‚ï¼Œéœ€è¦è‡ªå®šä¹‰é€»è¾‘ï¼š
   ```tsx
   const { setTheme } = useTheme();
   const customSetTheme = (style: string, mode: string) => {
     setTheme(`${style}-${mode}`);
   };
   ```
4. æ›´æ–°æ‰€æœ‰ç»„ä»¶çš„ä¸»é¢˜ hook å¼•ç”¨

---

#### å»ºè®® 4ï¼šæ€§èƒ½ä¼˜åŒ–æŠ€å·§

æ— è®ºä½¿ç”¨å“ªç§æ–¹æ¡ˆï¼Œéƒ½å¯ä»¥åº”ç”¨ä»¥ä¸‹ä¼˜åŒ–ï¼š

**1. æ·»åŠ ä¸»é¢˜åˆ‡æ¢åŠ¨ç”»**ï¼š

```css
@layer base {
  * {
    transition: background-color 0.3s ease, color 0.3s ease,
      border-color 0.3s ease;
  }
}
```

**2. é¿å…é—ªçƒï¼ˆçº¯å®¢æˆ·ç«¯ï¼‰**ï¼š

```typescript
// åœ¨ useState åˆå§‹åŒ–æ—¶ç«‹å³è®¾ç½®
const [theme, setTheme] = useState<Theme>(() => {
  const stored = localStorage.getItem(KEY);
  const finalTheme = stored || "modern-light";

  // ğŸ”‘ å…³é”®ï¼šç«‹å³è®¾ç½®ï¼Œé¿å…é¦–æ¬¡æ¸²æŸ“é—ªçƒ
  document.documentElement.setAttribute("data-theme", finalTheme);

  return finalTheme;
});
```

**3. ç³»ç»Ÿä¸»é¢˜æ£€æµ‹ï¼ˆå¯é€‰ï¼‰**ï¼š

```typescript
// æ£€æµ‹ç³»ç»Ÿä¸»é¢˜åå¥½
const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

// ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
window
  .matchMedia("(prefers-color-scheme: dark)")
  .addEventListener("change", (e) => {
    if (e.matches) {
      setMode("dark");
    } else {
      setMode("light");
    }
  });
```

---

### 7.6 æ€»ç»“ä¸å†³ç­–æ ‘

```
å¼€å§‹
  â”‚
  â”œâ”€ æ˜¯å¦ä½¿ç”¨ Next.js + SSRï¼Ÿ
  â”‚  â”œâ”€ æ˜¯ â†’ ä½¿ç”¨ next-themes âœ…
  â”‚  â””â”€ å¦ â†’ ç»§ç»­åˆ¤æ–­
  â”‚
  â”œâ”€ æ˜¯å¦éœ€è¦å¤šç»´åº¦ä¸»é¢˜ï¼Ÿ
  â”‚  â”œâ”€ æ˜¯ â†’ è‡ªå®šä¹‰å®ç° âœ…
  â”‚  â””â”€ å¦ â†’ ç»§ç»­åˆ¤æ–­
  â”‚
  â”œâ”€ é¡¹ç›®è§„æ¨¡ < 5 é¡µé¢ä¸”è¿½æ±‚é€Ÿåº¦ï¼Ÿ
  â”‚  â”œâ”€ æ˜¯ â†’ next-themesï¼ˆå¿«é€Ÿå¯åŠ¨ï¼‰âœ…
  â”‚  â””â”€ å¦ â†’ ç»§ç»­åˆ¤æ–­
  â”‚
  â”œâ”€ æ˜¯å¦æåº¦è¿½æ±‚è½»é‡åŒ–ï¼Ÿ
  â”‚  â”œâ”€ æ˜¯ â†’ è‡ªå®šä¹‰å®ç° âœ…
  â”‚  â””â”€ å¦ â†’ next-themes æˆ– è‡ªå®šä¹‰ éƒ½å¯ä»¥
  â”‚
  â””â”€ å›¢é˜Ÿæ˜¯å¦æœ‰èƒ½åŠ›ç»´æŠ¤è‡ªå®šä¹‰ä»£ç ï¼Ÿ
     â”œâ”€ æ˜¯ â†’ è‡ªå®šä¹‰å®ç°ï¼ˆæ¨èï¼‰âœ…
     â””â”€ å¦ â†’ next-themesï¼ˆé™ä½ç»´æŠ¤æˆæœ¬ï¼‰âœ…
```

---

## æ›´æ–°åçš„æ€»ç»“è¡¨

| é—®é¢˜                | ç­”æ¡ˆ                                                                                     |
| ------------------- | ---------------------------------------------------------------------------------------- |
| **ä¸»é¢˜åˆ‡æ¢åŸç†**    | React ä¿®æ”¹ `data-theme` å±æ€§ â†’ CSS é€‰æ‹©å™¨åŒ¹é… â†’ CSS Variables æ›´æ–° â†’ Tailwind ç±»å¼•ç”¨æ–°å€¼ |
| **`@theme inline`** | Tailwind V4 æ–°è¯­æ³•ï¼Œå°† CSS Variables è½¬æ¢ä¸ºå·¥å…·ç±»                                        |
| **é»˜è®¤ä¸»é¢˜**        | å¯ä»¥åˆ ï¼Œä½†å»ºè®®ä¿ç•™ `:root` ä½œä¸ºå›é€€                                                      |
| **`[data-theme]`**  | æ ‡å‡† CSS å±æ€§é€‰æ‹©å™¨ï¼Œä¸æ˜¯ Tailwind ç‰¹æœ‰çš„                                                |
| **æ–¹æ¡ˆé€‰å‹**        | Next.js+SSR â†’ next-themesï¼›çº¯å®¢æˆ·ç«¯+å¤šç»´åº¦ â†’ è‡ªå®šä¹‰å®ç°ï¼›å¿«é€ŸåŸå‹ â†’ next-themes          |
| **æœ¬é¡¹ç›®é€‰æ‹©**      | è‡ªå®šä¹‰å®ç°ï¼ˆåŒç»´åº¦éœ€æ±‚ + çº¯å®¢æˆ·ç«¯ + è½»é‡åŒ–ï¼‰                                             |

---

## å‚è€ƒèµ„æº

- [next-themes GitHub](https://github.com/pacocoursey/next-themes)
- [Shadcn/ui ä¸»é¢˜ç³»ç»Ÿ](https://ui.shadcn.com/docs/theming)
- [Tailwind CSS V4 æ–‡æ¡£](https://tailwindcss.com/docs)
- [CSS Variables MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_custom_properties)
